!function(t,e,n){"use strict";Foundation.libs.topbar={name:"topbar",version:"4.3.2",settings:{index:0,stickyClass:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!1,scrolltop:!0,init:!1},init:function(n,i,r){Foundation.inherit(this,"data_options addCustomRule");var o=this;return"object"==typeof i?t.extend(!0,this.settings,i):"undefined"!=typeof r&&t.extend(!0,this.settings,r),"string"!=typeof i?(t(".top-bar, [data-topbar]").each(function(){t.extend(!0,o.settings,o.data_options(t(this))),o.settings.$w=t(e),o.settings.$topbar=t(this),o.settings.$section=o.settings.$topbar.find("section"),o.settings.$titlebar=o.settings.$topbar.children("ul").first(),o.settings.$topbar.data("index",0);var n=o.settings.$topbar.parent();n.hasClass("fixed")||n.hasClass(o.settings.stickyClass)?(o.settings.$topbar.data("height",o.outerHeight(n)),o.settings.$topbar.data("stickyoffset",n.offset().top)):o.settings.$topbar.data("height",o.outerHeight(o.settings.$topbar));var i=t("<div class='top-bar-js-breakpoint'/>").insertAfter(o.settings.$topbar);o.settings.breakPoint=i.width(),i.remove(),o.assemble(),o.settings.is_hover&&o.settings.$topbar.find(".has-dropdown").addClass("not-click"),o.addCustomRule(".f-topbar-fixed { padding-top: "+o.settings.$topbar.data("height")+"px }"),o.settings.$topbar.parent().hasClass("fixed")&&t("body").addClass("f-topbar-fixed")}),o.settings.init||this.events(),this.settings.init):this[i].call(this,r)},toggle:function(){var n=this,i=t(".top-bar, [data-topbar]"),r=i.find("section, .section");n.breakpoint()&&(n.rtl?(r.css({right:"0%"}),r.find(">.name").css({right:"100%"})):(r.css({left:"0%"}),r.find(">.name").css({left:"100%"})),r.find("li.moved").removeClass("moved"),i.data("index",0),i.toggleClass("expanded").css("height","")),n.settings.scrolltop?i.hasClass("expanded")?i.parent().hasClass("fixed")&&(n.settings.scrolltop?(i.parent().removeClass("fixed"),i.addClass("fixed"),t("body").removeClass("f-topbar-fixed"),e.scrollTo(0,0)):i.parent().removeClass("expanded")):i.hasClass("fixed")&&(i.parent().addClass("fixed"),i.removeClass("fixed"),t("body").addClass("f-topbar-fixed")):(i.parent().hasClass(n.settings.stickyClass)&&i.parent().addClass("fixed"),i.parent().hasClass("fixed")&&(i.hasClass("expanded")?(i.addClass("fixed"),i.parent().addClass("expanded")):(i.removeClass("fixed"),i.parent().removeClass("expanded"),n.updateStickyPositioning())))},timer:null,events:function(){var i=this;t(this.scope).off(".fndtn.topbar").on("click.fndtn.topbar",".top-bar .toggle-topbar, [data-topbar] .toggle-topbar",function(t){t.preventDefault(),i.toggle()}).on("click.fndtn.topbar",".top-bar li.has-dropdown",function(e){var n=t(this),r=t(e.target),o=n.closest("[data-topbar], .top-bar");return o.data("topbar"),r.data("revealId")?(i.toggle(),void 0):(i.breakpoint()||(!i.settings.is_hover||Modernizr.touch)&&(e.stopImmediatePropagation(),"A"===r[0].nodeName&&r.parent().hasClass("has-dropdown")&&e.preventDefault(),n.hasClass("hover")?(n.removeClass("hover").find("li").removeClass("hover"),n.parents("li.hover").removeClass("hover")):n.addClass("hover")),void 0)}).on("click.fndtn.topbar",".top-bar .has-dropdown>a, [data-topbar] .has-dropdown>a",function(n){if(i.breakpoint()&&t(e).width()!=i.settings.breakPoint){n.preventDefault();var r=t(this),o=r.closest(".top-bar, [data-topbar]"),a=o.find("section, .section"),s=(r.next(".dropdown").outerHeight(),r.closest("li"));o.data("index",o.data("index")+1),s.addClass("moved"),i.rtl?(a.css({right:-(100*o.data("index"))+"%"}),a.find(">.name").css({right:100*o.data("index")+"%"})):(a.css({left:-(100*o.data("index"))+"%"}),a.find(">.name").css({left:100*o.data("index")+"%"})),o.css("height",i.outerHeight(r.siblings("ul"),!0)+i.settings.$topbar.data("height"))}}),t(e).on("resize.fndtn.topbar",function(){if("undefined"!=typeof i.settings.$topbar){var e,r=i.settings.$topbar.parent("."+this.settings.stickyClass);if(!i.breakpoint()){var o=i.settings.$topbar.hasClass("expanded");t(".top-bar, [data-topbar]").css("height","").removeClass("expanded").find("li").removeClass("hover"),o&&i.toggle()}r.length>0&&(r.hasClass("fixed")?(r.removeClass("fixed"),e=r.offset().top,t(n.body).hasClass("f-topbar-fixed")&&(e-=i.settings.$topbar.data("height")),i.settings.$topbar.data("stickyoffset",e),r.addClass("fixed")):(e=r.offset().top,i.settings.$topbar.data("stickyoffset",e)))}}.bind(this)),t("body").on("click.fndtn.topbar",function(e){var n=t(e.target).closest("li").closest("li.hover");n.length>0||t(".top-bar li, [data-topbar] li").removeClass("hover")}),t(this.scope).on("click.fndtn",".top-bar .has-dropdown .back, [data-topbar] .has-dropdown .back",function(e){e.preventDefault();var n=t(this),r=n.closest(".top-bar, [data-topbar]"),o=r.find("section, .section"),a=n.closest("li.moved"),s=a.parent();r.data("index",r.data("index")-1),i.rtl?(o.css({right:-(100*r.data("index"))+"%"}),o.find(">.name").css({right:100*r.data("index")+"%"})):(o.css({left:-(100*r.data("index"))+"%"}),o.find(">.name").css({left:100*r.data("index")+"%"})),0===r.data("index")?r.css("height",""):r.css("height",i.outerHeight(s,!0)+i.settings.$topbar.data("height")),setTimeout(function(){a.removeClass("moved")},300)})},breakpoint:function(){return t(n).width()<=this.settings.breakPoint||t("html").hasClass("lt-ie9")},assemble:function(){var e=this;this.settings.$section.detach(),this.settings.$section.find(".has-dropdown>a").each(function(){var n=t(this),i=n.siblings(".dropdown"),r=n.attr("href");if(e.settings.mobile_show_parent_link&&r&&r.length>1)var o=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li><li><a class="parent-link js-generated" href="'+r+'">'+n.text()+"</a></li>");else var o=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');1==e.settings.custom_back_text?o.find("h5>a").html(e.settings.back_text):o.find("h5>a").html("&laquo; "+n.html()),i.prepend(o)}),this.settings.$section.appendTo(this.settings.$topbar),this.sticky()},height:function(e){var n=0,i=this;return e.find("> li").each(function(){n+=i.outerHeight(t(this),!0)}),n},sticky:function(){var n=t(e),i=this;n.scroll(function(){i.updateStickyPositioning()})},updateStickyPositioning:function(){var n="."+this.settings.stickyClass,i=t(e);if(t(n).length>0){var r=this.settings.$topbar.data("stickyoffset");t(n).hasClass("expanded")||(i.scrollTop()>r?t(n).hasClass("fixed")||(t(n).addClass("fixed"),t("body").addClass("f-topbar-fixed")):i.scrollTop()<=r&&t(n).hasClass("fixed")&&(t(n).removeClass("fixed"),t("body").removeClass("f-topbar-fixed")))}},off:function(){t(this.scope).off(".fndtn.topbar"),t(e).off(".fndtn.topbar")},reflow:function(){}}}(Foundation.zj,this,this.document);