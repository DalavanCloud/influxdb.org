<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><title>InfluxDB - Open Source Time Series, Metrics, and Analytics Database</title><link href="/stylesheets/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/foundation.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/highlighting.css" media="screen" rel="stylesheet" type="text/css" /><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700" media="screen" rel="stylesheet" type="text/css" /><link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all.js" type="text/javascript"></script></head><body class="docs docs_api docs_api_http"><section class="nav"><div class="row"><nav class="top-bar hide-for-small"><ul class="title-area"><li class="name"><a href="/"><img src="/images/influxdb-light-24px.png" /></a></li></ul><li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li><section class="top-bar-section"><ul class="right"><li class="divider"></li><li><a href="/docs/v0.6/introduction/overview.html">Overview</a></li><li class="divider"></li><li><a href="https://customers.influxdb.com">Support & Hosting</a></li><li class="divider"></li><li><a href="/blog">Blog</a></li><li class="divider"></li><li><a href="/docs/v0.6/introduction/getting_started.html">Docs</a></li><li class="divider"></li><li><a href="/community">Community</a></li><li class="divider"></li><li><a target="_" href="http://play.influxdb.org">Play</a></li><li class="divider"></li><li class="has-form"><a class="button" href="/download">Download</a></li></ul></section></nav></div></section><section class="main"><h1 id="toc_0">HTTP API</h1>

<p>The primary interface to InfluxDB is through the HTTP API. Through it you can write data, run queries, and do cluster administration.</p>

<h3 id="toc_1">Writing Data</h3>

<p>InfluxDB is split into databases which have different time series. Each time series has data points that can have any number of columns. It&rsquo;s like a regular database, but the columns on tables (time series) don&rsquo;t have to be defined up front. So the rows look like a hashmap of key value pairs. Valid characters for time series and column names include letters, numbers, dashes, underscores, or periods.  Time series and column names must start with a number or letter.</p>

<p>Assuming you have a database named <code>foo_production</code> you can write data by doing a <code>POST</code> to <code>/db/foo_production/series?u=some_user&amp;p=some_password</code> with a JSON body of points. Notice that username and password are specified in the query string. Users can be restricted to having read or write access and can also be restricted by the time series name and the queries they can run, but we&rsquo;ll get to administration later. Here&rsquo;s what a sample JSON body looks like:</p>
<pre class="highlight json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;events&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;email&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="p">],</span><span class="w">
    </span><span class="s2">&quot;points&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">&quot;ny&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;paul@influxdb.org&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;follow&quot;</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="s2">&quot;ny&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;todd@influxdb.org&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;open&quot;</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;errors&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;file&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;severity&quot;</span><span class="p">],</span><span class="w">
    </span><span class="s2">&quot;points&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">&quot;DivideByZero&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;example.py&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;someguy@influxdb.org&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;fatal&quot;</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre>
<p>As you can see you can write to multiple time series names in a single POST. You can also write multiple points to each series. The values in <code>points</code> must have the same index as their respective column names in <code>columns</code>. However, not all points need to have values for each column, <code>null</code>s are ok.</p>

<p>Note that times weren&rsquo;t specified in those points. In that case the server assigns them automatically. If you want to specify the time you can by including the <code>time</code> column in the POST, which should be an epoch from 1, Jan 1970 in either seconds, milliseconds, or microseconds.</p>
<pre class="highlight json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;response_times&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="p">],</span><span class="w">
    </span><span class="s2">&quot;points&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="mi">1382819388</span><span class="p">,</span><span class="w"> </span><span class="mf">234.3</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="mi">1382819389</span><span class="p">,</span><span class="w"> </span><span class="mf">120.1</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="mi">1382819380</span><span class="p">,</span><span class="w"> </span><span class="mf">340.9</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre>
<p>When you include a time, InfluxDB will interpret it in milliseconds. You can specify the precision of the value in the call like <code>/db/foo_production/series?u=some_user&amp;p=some_password&amp;time_precision=m</code>. You can specify either second (s), millisecond (m), or microsecond (u) from epoch (1, Jan 1970). The underlying datastore keeps everything at microsecond precision.</p>

<h4 id="toc_2">Updating Points</h4>

<p>Individual data points are uniquely identified by their <code>sequence_number</code>, <code>time</code> and the series name. Sequence numbers are assigned automatically by the cluster. InfluxDB isn&rsquo;t optimized for updates and there are no specific guarantees if multiple writers try to update a point at the same time. However, it is possible to update a point by including the sequence_number in the write. The supplied column values will be overwritten while other columns will remain unchanged.</p>

<h4 id="toc_3">Deleting Points</h4>

<p>InfluxDB is designed to delete a range of data, not individual points. It&rsquo;s handy for regularly clearing out raw data to save space in the cluster or when removing data to reimport.</p>

<h5 id="toc_4">One Time Deletes</h5>

<p>In order to delete an entire series you can send a <code>DELETE</code> request to
the <code>/db/:db/series/:series</code> endpoint with the following parameters:</p>

<ul>
<li><code>u</code> - username</li>
<li><code>p</code> - password</li>
<li><code>:db</code> - the name of the database that contains the series</li>
<li><code>:series</code> - the name of the series to be deleted</li>
</ul>

<h5 id="toc_5">Regularly Scheduled Deletes</h5>

<p>To create a delete that runs regularly send a <code>POST</code> request to <code>/db/:name/scheduled_deletes</code> with a JSON body:</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;regex&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stats\..*&quot;</span><span class="p">,</span><span class="w">
  </span><span class="s2">&quot;olderThan&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;14d&quot;</span><span class="p">,</span><span class="w">
  </span><span class="s2">&quot;runAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>This query will delete data older than 14 days from any series that starts with <code>stats.</code> and will run every day at 3:00 AM.</p>

<p>You can see what scheduled deletes are configured and remove them like this:</p>
<pre class="highlight shell"><span class="c"># get list of deletes</span>
curl http://localhost:8086/db/site_dev/scheduled_deletes

<span class="c"># remove a regularly scheduled delete</span>
curl -X DELETE http://localhost:8086/db/site_dev/scheduled_deletes/:id
</pre>
<h3 id="toc_6">Querying Data</h3>

<p>Getting data from InfluxDB is done through a single endpoint. <code>GET db/:name/series</code>. It takes five parameters:</p>

<ul>
<li><code>q</code> - the query</li>
<li><code>u</code> - username</li>
<li><code>p</code> - password</li>
<li><code>time_precision</code> the precision timestamps should come back in. Valid options are <code>s</code> for seconds, <code>m</code> for milliseconds, and <code>u</code> for microseconds.</li>
<li><code>chunked</code> - true|false, false is the default.</li>
</ul>

<h4 id="toc_7">Query</h4>

<p>The query parameter uses the <a href="/docs/query_language">InfluxDB Query Language</a> and should be URI encoded.</p>

<h4 id="toc_8">Sample Response</h4>

<p>Responses are JSON data that look like this:</p>
<pre class="highlight json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;some_series&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;sequence_number&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;column_a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;column_b&quot;</span><span class="p">],</span><span class="w">
    </span><span class="s2">&quot;points&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="mi">1383059590062</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;some string&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre>
<p>The response is a collection of objects where each object is a collection of points from a specific time series (you can request data from multiple series in a single query). The index of the column name matches up with the associated index in each point. Some column values can be null. The <code>time</code> and <code>sequence_number</code> columns are special built in columns. Time is always returned as an epoch from 1, Jan, 1970. The precision of the epoch will be whatever was requested in the <code>time_precision</code> parameter.</p>

<p>The <code>sequence_number</code> will only show up on queries that return raw data points. Points can be uniquely identified by the series, time, and sequence number. When doing group by queries, sequence numbers will not be returned.</p>

<p>The order of the points defaults to time descending. The only other option is to order by time ascending by adding <code>order asc</code> to the query.</p>

<h4 id="toc_9">Chunked Responses</h4>

<p>If the request asks for a chunked response, JSON objects will get written to the HTTP response as they are ready. They will come in batches in the requested time order. That might look like this:</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;a_series&quot;</span><span class="p">,</span><span class="w">
  </span><span class="s2">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;sequence_number&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;column_a&quot;</span><span class="p">],</span><span class="w">
  </span><span class="s2">&quot;points&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="mi">1383059590062</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mf">27.3</span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="mi">1383059590062</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mf">97.1</span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>Then followed by</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b_series&quot;</span><span class="p">,</span><span class="w">
  </span><span class="s2">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;sequence_number&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;column_a&quot;</span><span class="p">],</span><span class="w">
  </span><span class="s2">&quot;points&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="mi">1383059590062</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mf">2232.1</span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>Then followed by</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;a_series&quot;</span><span class="p">,</span><span class="w">
  </span><span class="s2">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;sequence_number&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;column_a&quot;</span><span class="p">],</span><span class="w">
  </span><span class="s2">&quot;points&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="mi">1383059590000</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mf">291.7</span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="mi">1383059590000</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mf">44.1</span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>So the chunks for different series can be interleaved, but they will always come back in the correct time order. You should use chunked queries when pulling back a large number of data points. If you&rsquo;re just pulling back data for a graph, which should generally have fewer than a few thousand points, non-chunked responses are easiest to work with.</p>

<h3 id="toc_10">Administration &amp; Security</h3>

<p>The following section details the endpoints in the HTTP API for administering the cluster and managing database security.</p>

<h4 id="toc_11">Creating and Dropping Databases</h4>

<p>There are two endpoints for creating or dropping databases. The requesting user must be a cluster administrator.</p>
<pre class="highlight shell"><span class="c"># create a database</span>
curl -X POST <span class="s1">&#39;http://localhost:8086/db?u=root&amp;p=root&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;name&quot;: &quot;site_development&quot;}&#39;</span>

<span class="c"># drop a database</span>
curl -X DELETE <span class="s1">&#39;http://localhost:8086/db/site_development?u=root&amp;p=root&#39;</span>
</pre>
<h5 id="toc_12">Replication factor (&gt; v0.4.0)</h5>

<p>Starting with version 0.4.0, influxdb support replicating time series
data to multiple servers for high availability. Time series inherit
the replication factor of the database to which it belongs. By default
all new databases have replication factor of 1, meaning every point exist
on one and only one server. In order to create a database with a higher
replication factory you can do the following:</p>
<pre class="highlight shell"><span class="c"># create a database</span>
curl -X POST <span class="s1">&#39;http://localhost:8086/db?u=root&amp;p=root&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;name&quot;: &quot;site_development&quot;, &quot;replicationFactor&quot;: 2}&#39;</span>
</pre>
<h4 id="toc_13">Security</h4>

<p>InfluxDB has three different kinds of users:</p>

<h5 id="toc_14">cluster admin</h5>

<p>A cluster admin can add and drop databases. Add and remove database
users and database admins to any database and change their read and
write access. A cluster admin can&rsquo;t query a database though. Below are
the endpoints specific to cluster admins:</p>
<pre class="highlight shell"><span class="c"># get list of cluster admins curl</span>
<span class="s1">&#39;http://localhost:8086/cluster_admins?u=root&amp;p=root&#39;</span>

<span class="c"># add cluster admin</span>
curl -X POST <span class="s1">&#39;http://localhost:8086/cluster_admins?u=root&amp;p=root&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;name: &quot;paul&quot;, &quot;password&quot;: &quot;i write teh docz&quot;}&#39;</span>

<span class="c"># update cluster admin password</span>
curl -X POST <span class="s1">&#39;http://localhost:8086/cluster_admins/paul?u=root&amp;p=root&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;password&quot;: &quot;new pass&quot;}&#39;</span>

<span class="c"># delete cluster admin</span>
curl -X DELETE <span class="s1">&#39;http://localhost:8086/cluster_admins/paul?u=root&amp;p=root&#39;</span>
</pre>
<h5 id="toc_15">database admin</h5>

<p>A database admin can add and remove databases admins and database
users and change their read and write permissions. It can&rsquo;t add
or remove users from a different database.</p>

<h5 id="toc_16">database user</h5>

<p>A database user can read and write data to the current database.
The user can&rsquo;t add or remove users or admins or read/write data
from/to time series that they don&rsquo;t have permissions for.</p>

<p>Below are examples of adding/removing databases users and database
admins:</p>
<pre class="highlight shell"><span class="c"># Database users, with a database name of site_dev</span>

<span class="c"># add database user</span>
curl -X POST <span class="s1">&#39;http://localhost:8086/db/site_dev/users?u=root&amp;p=root&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;name&quot;: &quot;paul&quot;, &quot;password&quot;: &quot;i write teh docz&quot;}&#39;</span>

<span class="c"># delete database user</span>
curl -X DELETE <span class="s1">&#39;http://localhost:8086/db/site_dev/users/paul?u=root&amp;p=root&#39;</span>

<span class="c"># update user&#39;s password</span>
curl -X POST <span class="s1">&#39;http://localhost:8086/db/site_dev/users/paul?u=root&amp;p=root&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;password&quot;: &quot;new pass&quot;}&#39;</span>

<span class="c"># get list of database users</span>
curl <span class="s1">&#39;http://localhost:8086/db/site_dev/users?u=root&amp;p=root&#39;</span>

<span class="c"># add database admin privilege</span>
curl -X POST <span class="s1">&#39;http://localhost:8086/db/site_dev/users/paul?u=root&amp;p=root&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;admin&quot;: true}&#39;</span>

<span class="c"># remove database admin privilege</span>
curl -X POST <span class="s1">&#39;http://localhost:8086/db/site_dev/users/paul?u=root&amp;p=root&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;admin&quot;: false}&#39;</span>

</pre>
<h5 id="toc_17">Limiting User Access</h5>

<p>Database users have two additional arguments when creating or updating
their objects: <code>readPermissions</code> and <code>writePermissions</code>. Here&rsquo;s what a
default database user looks like when those arguments aren&rsquo;t specified
on create.</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;paul&quot;</span><span class="p">,</span><span class="w">
  </span><span class="s2">&quot;readPermissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">&quot;writePermissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>This example user has the ability to read and write from any time
series. If you want to restrict the user to only being able to write
data, update the user by <code>POST</code>ing to <code>db/site_dev/users/paul</code>.</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;readPermissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">&quot;writePermissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>It&rsquo;s also possible to limit a user&rsquo;s permissions for reads and writes
so they can only write specific values for a given column or request a
subset of series data.</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;readPermissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;customer_events&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;whereClause&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;where customer_id = 3&quot;</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">&quot;writePermissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;customer_events&quot;</span><span class="p">,</span><span class="w">
      </span><span class="s2">&quot;valueRestrictions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">&quot;customer_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>In this example we have a user that is allowed to read from any time
series, but when reading from <code>customer_events</code>, they will only be
able to see events that have a <code>customer_id</code> of <code>3</code>. The user is only
able to write to the <code>customer_events</code> time series, but the only value
they can write to the <code>customer_id</code> column is <code>3</code>. This would let you
have multiple users writing into the same analytics series without
exposing their data to each other.</p>

<p>InfluxDB decides which permission to apply by first looking for exact
matches. If there is one then it is applied. Otherwise, it iterates
through the regexes and uses the first matching one.</p>

<p><strong>NOTE</strong>: Enforcing user access rules isn&rsquo;t fully implemented see
  <a href="https://github.com/influxdb/influxdb/issues/109">this issue</a> for
  more information on the current status.</p>
</section><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-45024174-1', 'influxdb.org');
ga('send', 'pageview');</script><a href="https://github.com/influxdb/influxdb"><img alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" style="position: absolute; top: 0; right: 0; border: 0;" /></a></body></html>